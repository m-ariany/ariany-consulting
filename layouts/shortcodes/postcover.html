{{- $caption := .Get "caption" | default "" -}}
{{- $alt := .Get "alt" | default "preview" -}}
<figure style="width: 100%; display: flex; flex-direction: column; justify-content: center; margin: 30px 0;">
  <div style="display: flex; justify-content: center; max-height: 400px; overflow: hidden;">
    <img src="{{ .Get "src" }}" alt="{{ $alt }}" style="max-height: 400px; height: auto; object-fit: cover; border: 1px solid;"/>
  </div>
  {{- if $caption -}}
  <figcaption style="margin-top: 0.5em; font-size: 0.9em; color: #666; font-style: italic; text-align: center;">
    {{ $caption | markdownify }}
  </figcaption>
  {{- end -}}
</figure>
<style>
  @media (prefers-color-scheme: dark) {
    figure figcaption {
      color: #999;
    }
  }
</style>  